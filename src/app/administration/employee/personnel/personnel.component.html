<div class="d-flex flex-row-reverse">
  <button type="button" class="btn btn-icon btn-primary" (click)="openAddWizard(mymodal)">
    <i class="fe fe-plus mr-2"></i> ajouter personnel
  </button>
</div>
<ng-template #mymodal class="card">
  <div class="card-header">
    <h3 class="card-title">Donn√©es du personnel</h3>
    <div class="modal-body p-4">
      <button type="button" class="close" aria-label="Close" (click)="modalRef.close()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
  </div>
  <div class="card-body">

    <form [formGroup]="employeeFormGroup" (ngSubmit)="submitForm()">
      <div class="form-group">
        <label class="form-label">nom</label>
        <input class="form-control" formControlName="firstname" type="text">
      </div>
      <div class="form-group">
        <label class="form-label">prenom</label>
        <input class="form-control" formControlName="lastname" type="text">
      </div>
      <div class="form-group">
        <label class="form-label">email</label>
        <input class="form-control" formControlName="email" type="text">
      </div>
      <div class="form-group">
        <label class="form-label">tel</label>
        <input class="form-control" formControlName="phone" type="text">
      </div>
      <div class="form-group">
        <label class="form-label">addresse</label>
        <input class="form-control" formControlName="address" type="text">
      </div>
      <div class="form-group">
        <label class="form-label">titre</label>
        <input class="form-control" formControlName="title" type="text">
      </div>
      <div class="form-group">
        <label class="form-label">Manager</label>
        <select class="form-control" formControlName="managerId">
          <option *ngFor="let manager of managers" [value]="manager.id">{{ manager.firstname }} {{ manager.lastname }}</option>
        </select>
      </div>
      <div class="form-group">
        <label class="form-label">Company</label>
        <select class="form-control" formControlName="companyId">
          <option *ngFor="let company of companies" [value]="company.id">{{ company.name }}</option>
        </select>
      </div>
      <div class="d-flex flex-row-reverse">
        <button type="submit" class="btn btn-primary">
          sauvgarder
        </button>
      </div>
    </form>
  </div>
</ng-template>


<div class="row mt-3">
  <div class="col-lg-12 col-md-12">
    <div class="card">
      <div class="card-header">
        <h5>Liste des personnels</h5>
      </div>
      <div class="card-body">
        <div class="table-responsive">
          <table class="table table-bordered" id="myTable1">
            <thead style="text-align: center" class="border-top">
            <tr>
              <th>nom</th>
              <th>email</th>
              <th>company</th>
              <th>manager</th>
              <th>action</th>
            </tr>
            </thead>
            <tbody style="text-align: center">
            <tr *ngFor="let employee of employees">
              <td>{{ employee.firstname }} {{ employee.lastname }}</td>
              <td>{{ employee.email }}</td>
              <td>{{ employee.company.name }}</td>
              <td>
                <span *ngIf="employee.manager">{{ employee.manager.firstname }} {{ employee.manager.lastname }}</span>
                <span *ngIf="!employee.manager">-</span>
              </td>
              <td>Action</td>
            </tr>
            </tbody>

          </table>
        </div>
      </div>
    </div>
  </div>
</div>
